{% extends "base.html" %}
{% from '_macros.html' import render_product_card %}

{% block title %}Welcome to {{ site_name|default('Vibe Commerce') }}{% endblock %}

{% block content %}
    <div class="hero">
        <h1>Welcome to {{ site_name|default('Vibe Commerce') }}</h1>
        <p>This is a DEMO e-commerce site built on Google Vertex AI Search for Comemrce.<br> See the <a href="{{ url_for('about') }}">About</a> page for more info.</p>
    </div>

    <h2>Recommended For You</h2>

    {% if error %}
        <p class="error">Could not load recommendations: {{ error }}</p>
    {% elif recommendations %}
        <div class="product-carousel">
            <div class="product-grid">
                {% for item in recommendations %}
                    {{ render_product_card(item, attribution_token) }}
                {% endfor %}
            </div>
        </div>
    {% else %}
        <p>No recommendations available at the moment.</p>
    {% endif %}
{% endblock %}